import os

# ุชูุธูุงุช ุงุตู ุฑุจุงุช
BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN", "7338644071:AAEex9j0nMualdoywHSGFiBoMAzRpkFypPk")  # ุชูฺฉู ุฑุจุงุช ุงุฒ BotFather
WEBHOOK_URL = os.environ.get("WEBHOOK_URL", "")  # ุขุฏุฑุณ ูุจโููฺฉ (ูุซุงู: https://example.com/webhook)
ADMIN_IDS = list(map(int, os.environ.get("ADMIN_IDS", "0").split(",")))  # ุดูุงุณูโูุง ุงุฏููโูุง ุจุง ฺฉุงูุง ุฌุฏุง ุดุฏู

# ุชูุธูุงุช ูุจโููฺฉ
WEBHOOK_HOST = '0.0.0.0'  # ุขุฏุฑุณ ุณุฑูุฑ
WEBHOOK_PORT = 5000  # ูพูุฑุช ูุจโููฺฉ ุจุฑุง ุฏุณุชุฑุณ ุฎุงุฑุฌ
BACKEND_PORT = 8000  # ูพูุฑุช ุจุฑุง ุณุฑูุณโูุง ุฏุงุฎู

# ุชูุธูุงุช ุฏุชุงุจุณ
DATABASE_PATH = os.environ.get("DATABASE_PATH", "bot_database.db")

# ูุญุฏูุฏุชโูุง ุฏุงูููุฏ
MAX_VIDEO_SIZE_MB = float('inf')  # ุจุฏูู ูุญุฏูุฏุช ุญุฌู
MAX_FILE_SIZE = float('inf')  # ุญุฏุงฺฉุซุฑ ุณุงุฒ ูุงู - ูุงูุญุฏูุฏ
VIDEO_SIZE_LIMIT = float('inf')  # ูุญุฏูุฏุช ุณุงุฒ ูุฏู - ูุงูุญุฏูุฏ
MAX_RETRIES = 3  # ุชุนุฏุงุฏ ุชูุงุดโูุง ูุฌุฏุฏ ุจุฑุง ุฏุงูููุฏ
DOWNLOAD_TIMEOUT = 600  # ุฒูุงู ุงูุชุธุงุฑ ุจุฑุง ุฏุงูููุฏ (10 ุฏููู)
MAX_DOWNLOAD_TIME = int(os.environ.get("MAX_DOWNLOAD_TIME", "300"))  # ุญุฏุงฺฉุซุฑ ุฒูุงู ุฏุงูููุฏ ุจู ุซุงูู
MAX_DOWNLOADS_PER_USER = int(os.environ.get("MAX_DOWNLOADS_PER_USER", "10"))  # ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ุฏุงูููุฏ ููุฒูุงู ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
MAX_VIDEO_DURATION = int(os.environ.get("MAX_VIDEO_DURATION", "600"))  # ุญุฏุงฺฉุซุฑ ูุฏุช ูุฏู ุจู ุซุงูู

# ุชูุธูุงุช ูุงฺฏูฺฏ
LOG_LEVEL = os.environ.get("LOG_LEVEL", "DEBUG")
LOG_FORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'

# ุณุทูุญ ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู
class UserRole:
    BLOCKED = -1    # ฺฉุงุฑุจุฑ ูุณุฏูุฏ ุดุฏู
    NORMAL = 0      # ฺฉุงุฑุจุฑ ุนุงุฏ
    PREMIUM = 1     # ฺฉุงุฑุจุฑ ูฺู
    ADMIN = 2       # ุงุฏูู
    SUPERADMIN = 3  # ุณููพุฑ ุงุฏูู

# ูุถุนุชโูุง ูุฎุชูู ุฏุงูููุฏ
class DownloadStatus:
    PENDING = 0     # ุฏุฑ ุงูุชุธุงุฑ
    PROCESSING = 1  # ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด
    COMPLETED = 2   # ุชฺฉูู ุดุฏู
    FAILED = 3      # ุดฺฉุณุช ุฎูุฑุฏู
    CANCELED = 4    # ูุบู ุดุฏู

# ุชูุธูุงุช yt-dlp
YDL_OPTIONS = {
    'format': 'best',
    'noplaylist': True,
    'nocheckcertificate': True,
    'ignoreerrors': True,
    'no_warnings': True,
    'quiet': True,
    'default_search': 'auto',
    'source_address': '0.0.0.0',
    'outtmpl': 'downloads/%(title)s-%(id)s.%(ext)s',
}

# ูพุงูโูุง ุฑุจุงุช
BOT_MESSAGES = {
    'start': """๐ฌ ุจู ุฑุจุงุช ุฏุงูููุฏ ูุฏู ูุชูุจ ุฎูุด ุขูุฏุฏ!

ุจุฑุง ุฏุงูููุฏ ูุฏูุ ููฺฉ ูุชูุจ ุฑุง ุงุฑุณุงู ฺฉูุฏ ุง ุงุฒ ุฏุณุชูุฑุงุช ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:

/download [YouTube URL] - ุฏุงูููุฏ ูุฏู
/status - ูุถุนุช ุณุณุชู
/help - ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช""",

    'help': """๐ ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช ุฏุงูููุฏ ูุฏู ูุชูุจ:

โพ๏ธ ุจุฑุง ุฏุงูููุฏ ูุฏูุ ููฺฉ ูุชูุจ ุฑุง ุงุฑุณุงู ฺฉูุฏ.
โพ๏ธ ุจุฑุง ุฏุงูููุฏ ุจุง ฺฉูุช ุฎุงุตุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
  /download [YouTube URL]

โพ๏ธ ุฏุณุชูุฑุงุช ูุฏุฑุช:
  /status - ูุดุงูุฏู ูุถุนุช ุณุณุชู
  /mydownloads - ูุดุงูุฏู ุฏุงูููุฏูุง ูู
  /cancel [download_id] - ูุบู ุฏุงูููุฏ

โพ๏ธ ูุญุฏูุฏุชโูุง:
  โข ุญุฏุงฺฉุซุฑ ูุฏุช ูุฏู: {max_duration} ุฏููู
  โข ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ุฏุงูููุฏ ููุฒูุงู: {max_downloads}

๐ ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู ุจุง ุงุฏูู ุชูุงุณ ุจฺฏุฑุฏ.""",

    'admin_help': """๐ ุฑุงูููุง ุฏุณุชูุฑุงุช ูุฏุฑุช:

โพ๏ธ ูุฏุฑุช ฺฉุงุฑุจุฑุงู:
  /users - ูุดุงูุฏู ูุณุช ฺฉุงุฑุจุฑุงู
  /block [user_id] - ูุณุฏูุฏ ฺฉุฑุฏู ฺฉุงุฑุจุฑ
  /unblock [user_id] - ุฑูุน ูุณุฏูุฏุช ฺฉุงุฑุจุฑ
  /setadmin [user_id] - ุชูุธู ฺฉุงุฑุจุฑ ุจู ุนููุงู ุงุฏูู
  /setpremium [user_id] - ุชูุธู ฺฉุงุฑุจุฑ ุจู ุนููุงู ูฺู

โพ๏ธ ูุฏุฑุช ุณุณุชู:
  /sysinfo - ูุดุงูุฏู ุงุทูุงุนุงุช ุณุณุชู
  /logs [count] - ูุดุงูุฏู ูุงฺฏโูุง ุงุฎุฑ
  /broadcast [message] - ุงุฑุณุงู ูพุงู ุจู ููู ฺฉุงุฑุจุฑุงู

โพ๏ธ ูุฏุฑุช ุฏุงูููุฏูุง:
  /downloads - ูุดุงูุฏู ููู ุฏุงูููุฏูุง
  /cancelall - ูุบู ููู ุฏุงูููุฏูุง ุฏุฑ ุญุงู ุงูุฌุงู""",

    'invalid_url': "โ ููฺฉ ูุงูุนุชุจุฑ ุงุณุช. ูุทูุงู ฺฉ ููฺฉ ูุชูุจ ูุนุชุจุฑ ุงุฑุณุงู ฺฉูุฏ.",
    'processing': "โณ ุฏุฑุญุงู ูพุฑุฏุงุฒุด ููฺฉ...",
    'download_started': "๐ ุฏุงูููุฏ ุดุฑูุน ุดุฏ. ุดูุงุณู ุฏุงูููุฏ: {download_id}",
    'download_success': "โ ุฏุงูููุฏ ุจุง ููููุช ุงูุฌุงู ุดุฏ!",
    'download_failed': "โ ุฏุงูููุฏ ุจุง ุฎุทุง ููุงุฌู ุดุฏ: {error}",
    'unauthorized': "โ ุดูุง ุงุฌุงุฒู ุงุณุชูุงุฏู ุงุฒ ุงู ุฏุณุชูุฑ ุฑุง ูุฏุงุฑุฏ.",
    'user_blocked': "โ ุฏุณุชุฑุณ ุดูุง ุจู ุฑุจุงุช ูุณุฏูุฏ ุดุฏู ุงุณุช.",
}

# ุชูุธูุงุช ุณุณุชู
DOWNLOADS_DIR = "downloads"
if not os.path.exists(DOWNLOADS_DIR):
    os.makedirs(DOWNLOADS_DIR)